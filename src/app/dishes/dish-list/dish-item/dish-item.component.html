<div class="dish"
     [ngClass]="{'most-expensive' : mostExpensive.price == dish.price
     , 'cheapest': cheapest.price == dish.price}"
>
  <header>
    <div class="dish-img-container">
      <button class="btn btn-danger" (click)="onDishDelete()"> X</button>
      <img class="dish-img" src="{{ dish.imagePaths.length> 0 ? dish.imagePaths.at(0)['imagePath'] : '' }}"
           alt="{{ dish.name }}"/>
    </div>
    <div class="header-container">
      <div class="tags">
        <div class="tag" [ngClass]="{'tag--vegan': dish.type==='vegan',
      'tag--vegetarian': dish.type === 'vegetarian', 'tag--meat': dish.type === 'meat'}">{{dish.type}}</div>
      </div>
      <p class="dish-name">{{ dish.name | uppercase}}</p>
    </div>
  </header>
  <section>
    <div class="content">
      <app-rating-stars [review]="dish.rate"
                        [readonly]="true"></app-rating-stars>

      <div class="dish-attributes">
        <div class="dish-attribute">
          <i class="fas fa-solid fa-map-pin"></i>
          <p>Cuisine: {{ dish.cuisine | uppercase }}</p>
        </div>
        <div class="dish-attribute">
          <i class="fas fa-regular fa-utensils"></i>
          <p>Category: {{ dish.category }}</p>
        </div>
      </div>

      <div class="bottom-box">
        <div class="amount-box">
          <p class="dish-amount"
             [ngStyle]="{color: dish.maxDishAmount - reservedDishesAmount <= dangerousDishAmount ? 'red':'#333'}"
             *ngIf="reservedDishesAmount < dish.maxDishAmount">
            Amount: {{ dish.maxDishAmount - reservedDishesAmount }}</p>
          <p class="dish-amount" *ngIf="reservedDishesAmount === dish.maxDishAmount"> Not available </p>
          <div class="amount-buttons">
            <div class="add-button"
                 (click)="onAddDish()"
                 [ngStyle]="{display: reservedDishesAmount < dish.maxDishAmount ? 'block' : 'none'}"
            >
              <i class="fas fa-plus-square fa-lg button"></i>
            </div>

            <div class="subtract-button"
                 (click)=onSubtractDish()
                 [ngStyle]="{display: reservedDishesAmount > 0 ? 'block' : 'none'}">
              <i class="fas fa-minus-square fa-lg"></i>
            </div>
          </div>
        </div>
        <span class="price">Price: {{ dish.price + (selectedCurrency ? selectedCurrency : dish.currency) }}</span>
      </div>
    </div>
  </section>

  <div *ngIf="dish.imagePaths&&dish.imagePaths.length>1" class="row">
    <div class="col">
      <a>More photos</a>
    </div>
  </div>
</div>

